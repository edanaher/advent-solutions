time { echo 'BEGIN { '; cat input.7 | sed 's/\([a-z0-9]*\) \([A-Z]*\) \([a-z0-9]*\) -> \([a-z]*\)/\4=\2(\1,\3)/; s/NOT \([0-9a-z]*\) -> \([a-z]*\)/\2=65535-\1/; s/\([0-9a-z]*\) -> \([a-z]*\)/\2=\1/' | tr '[A-Z]' '[a-z]' | sed 's/$/;/; s/\<\(do\|if\|in\)\>/\1not/g'; echo 'print a}'; } | sed -n 'H; $ { g; :loop; s/\([^\n]*\<\([a-z]\+\)\>.*\n\)\(\2=[^;]*;\n\)/\3\1/g; t loop; p; }' | awk -f -
